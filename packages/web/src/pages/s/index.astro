---
import config from "virtual:starlight/user-config";

import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';
import Share from "../../components/Share.tsx";

const apiUrl = import.meta.env.VITE_API_URL;

const id = Astro.url.searchParams.get('id')
const res = await fetch(`${apiUrl}/share_messages?id=${id}`);
const data = await res.json();

console.log(data.info)

---

<StarlightPage
  hasSidebar={false}
  frontmatter={{
    title: "Share",
    pagefind: false,
    template: "splash",
    tableOfContents: false,
  }}
>
  <Share api={apiUrl} data={data.messages} client:only="solid" />
</StarlightPage>

<style is:global>
body > .page > .main-frame .main-pane > main > .content-panel:first-of-type {
  display: none;
}
body > .page > .main-frame .main-pane > main > .content-panel + .content-panel {
  border-top: none !important;
}
</style>
